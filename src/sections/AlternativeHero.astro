---
import { parseMarkdown } from '@lib/markdown';

interface Props {
  id?: string;
  introHeading?: string;
  introText?: string;
  items?: Array<{
    logo: string;
    url: string;
    title: string;
    description: string;
  }>;
}

const { id, introText, introHeading, items } = Astro.props;

const displayText = parseMarkdown(introText ?? '');
const displayItems = items || [];
---

<section class="alternative-hero" id={id}>
  <div class="content">
    <div class="text-container">
      <h1>{introHeading}</h1>
      <div class="hero-text" set:html={displayText} />
    </div>

    <div class="logos-container">
      {
        displayItems.length > 0 &&
          displayItems.map((item) => (
            <div class="logo-item">
              <img src={item.logo} alt={item.title} class="logo-img" />
              <div class="logo-description">
                <h3>{item.title}</h3>
                <div class="desc" set:html={parseMarkdown(item.description)} />
                <a
                  href={item.url}
                  class="btn"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  Zur Website
                </a>
              </div>
            </div>
          ))
      }
    </div>
  </div>
</section>

<style lang="scss">
  .alternative-hero {
    display: flex;
    flex-direction: column;
    min-height: calc(100vh - var(--header-height));
    min-height: calc(100lvh - var(--header-height));
    padding: var(--section-padding);
    background: var(--background);
    color: var(--text);

    .content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 80px;
      max-width: var(--max-width);
      margin: 0 auto;
      width: 100%;

      .text-container {
        display: flex;
        flex-wrap: wrap;
        column-gap: 60px;
        row-gap: 1rem;
        align-items: center;

        h1 {
          @include h3;
          line-height: 1.4;
          font-family: 'Figtree', sans-serif;
          font-weight: 900;
          flex: 1 1 300px;
        }

        .hero-text {
          @include copy;
          font-size: 1.2rem;
          line-height: 1.6;
          margin: 0;
          flex: 1 1 300px;

          @include view-mobile {
            font-size: 1rem;
          }
        }
      }

      .logos-container {
        width: 100%;
        display: flex;
        gap: 80px;
        justify-content: space-between;
        flex-wrap: wrap;

        @media (max-width: 400px) {
          flex-direction: column;
          gap: 20px;
        }

        .logo-item {
          display: flex;
          align-items: flex-start;
          gap: 3rem;
          text-decoration: none;
          color: var(--text);
          transition: opacity 0.2s ease;

          @include hover {
            opacity: 0.8;
          }

          @include view-tablet-l {
            gap: 2rem;
          }

          .logo-img {
            max-width: 200px;
            height: auto;
            object-fit: contain;
            margin-bottom: 16px;

            @include view-tablet {
              width: 100px;
            }

            @include view-mobile {
              width: 60px;
            }
          }

          .logo-description {
            h3 {
              @include h2;
              color: var(--secondary);
              margin: 0 0 1rem;

              @include view-tablet-s {
                @include h3;
              }
            }

            div {
              margin-bottom: 1.2rem;

              p {
                @include copy;
                font-size: 0.85rem;
                line-height: 1.4;
                margin: 0;
                color: var(--text);
              }
            }

            .btn {
              text-transform: uppercase;
              display: block;
              border: 1px solid var(--accent);
              color: var(--accent);
              padding: 4px 10px;
              width: fit-content;
            }
          }
        }

        .placeholder-text {
          @include copy;
          color: var(--gray);
          text-align: center;
        }
      }
    }
  }
</style>
